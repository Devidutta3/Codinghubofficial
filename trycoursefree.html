<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodingHub | Try For Free</title>
    <meta name="description" content="Try CodingHub courses for free.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="icon" href="assets/codinghub-logo.svg" type="image/svg+xml">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="bg-glow top-left"></div>
    <div class="bg-glow bottom-right"></div>

    <nav>
        <div class="logo">
            <a href="index.html" class="logo-brand">
                <img src="assets/codinghub-logo.svg" alt="CodingHub logo" class="logo-mark">
                <span class="logo-text"><span class="text-gradient">Coding</span><span>Hub</span></span>
            </a>
        </div>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="courses.html">Courses</a></li>
            <li><a href="team.html">Community</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="payment.html">Payment</a></li>
            <li><a href="login.html" class="btn btn-secondary" style="padding: 0.5rem 1.5rem; border-radius: 20px;">Login</a></li>
        </ul>
    </nav>

    <main>
        <section class="payment-hero">
            <div class="glass-card payment-card">
                <p class="info-badge">Free Access</p>
                <h1 id="try-course-title">Try CodingHub Free</h1>
                <p id="try-course-desc">Explore our teaching style with these free introductory modules. No payment required.</p>
                <div class="payment-grid" style="display: block; margin-top: 2rem;">
                    <div class="form-wrap" style="width: 100%; max-width: 100%;">
                        <h3 style="margin-bottom: 1rem;">Free Curriculum</h3>
                        
                        <ul style="text-align: left; list-style: none; padding: 0; margin-top: 2rem;">
                            <li style="padding: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <details>
                                    <summary style="cursor: pointer; outline: none;"><strong>Intro:</strong> Java Explained <span style="font-size: 0.8rem; color: var(--neon-blue);">(Click to Watch)</span></summary>
                                    <div style="max-width: 100%; margin: 1rem auto 0;">
                                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 0 20px rgba(0, 240, 255, 0.1);">
                                            <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/MFITJ9dZz2s" title="How the Internet Works" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                        </div>
                                    </div>
                                </details>
                            </li>
                            <li style="padding: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <details>
                                    <summary style="cursor: pointer; outline: none;"><strong>Logic:</strong> DataTypes & Variables <span style="font-size: 0.8rem; color: var(--neon-blue);">(Click to Watch)</span></summary>
                                    <div style="max-width: 100%; margin: 1rem auto 0;">
                                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 0 20px rgba(0, 240, 255, 0.1);">
                                            <iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" src="https://www.youtube.com/embed/NlY5eAgXKEI" title="Basic Programming Concepts" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                        </div>
                                    </div>
                                </details>
                            </li>
                            
                            
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer id="contact">
        <div class="footer-content">
            <div class="footer-col">
                <div class="logo">
                    <a href="index.html" class="logo-brand">
                        <img src="assets/codinghub-logo.svg" alt="CodingHub logo" class="logo-mark">
                        <span class="logo-text"><span class="text-gradient">Coding</span><span>Hub</span></span>
                    </a>
                </div>
                <p style="margin-top: 1rem;">Empowering the next generation of developers worldwide.</p>
            </div>
            <div class="footer-col">
                <h5>Learning Paths</h5>
                <a href="courses.html">Java Ecosystem</a>
                <a href="pythonlearning.html">Python Mastery</a>
                <a href="frontendlearning.html">Frontend Design</a>
                <a href="aiandbackendlearning.html">Backend &amp; AI</a>
            </div>
            <div class="footer-col">
                <h5>Organization</h5>
                <a href="team.html">Our Team</a>
                <a href="about.html">About Us</a>
                <a href="#">Terms of Service</a>
                <a href="#">Privacy Policy</a>
            </div>
            <div class="footer-col">
                <h5>Connect</h5>
                <a href="mailto:contact@codinghub.com">contact@codinghub.com</a>
                <a href="#">GitHub</a>
                <a href="#">LinkedIn</a>
                <a href="#">Twitter</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 CodingHub. Inspired by freeCodeCamp. Designed by Devidutta Das &amp; Team.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            const params = new URLSearchParams(window.location.search);
            const courseId = params.get('course') || 'java'; // Default to java if none provided
            const title = document.getElementById('try-course-title');
            const desc = document.getElementById('try-course-desc');

            // Update content based on course
            const courseNames = {
                'java': 'Java Ecosystem',
                'python': 'Python Mastery',
                'frontend': 'Frontend Design',
                'c-programming': 'C Programming',
                'ai': 'AI & Backend'
            };

            if (courseNames[courseId]) {
                title.innerHTML = `Try <span class="text-gradient">${courseNames[courseId]}</span> Free`;
                desc.textContent = `Explore the first modules of our ${courseNames[courseId]} curriculum.`;
            }

            // Check Enrollment Status (DB + LocalStorage)
            let isAlreadyEnrolled = false;
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            
            // Check LocalStorage only (Backend removed)
            isAlreadyEnrolled = localStorage.getItem('enrolled_' + courseId) === 'true';

            const isEnrolled = Object.keys(localStorage).some(key => key.startsWith('enrolled_') && localStorage.getItem(key) === 'true');
            if (isEnrolled) {
                const navUl = document.querySelector('nav ul');
                if (navUl) {
                    const li = document.createElement('li');
                    li.innerHTML = '<a href="courses.html" class="text-gradient" style="font-weight: 700;">My Learning</a>';
                    navUl.appendChild(li);
                }
            }

            // Check for logged in user
            if (currentUser) {
                const navUl = document.querySelector('nav ul');
                if (navUl) {
                    const loginLink = navUl.querySelector('a[href="login.html"]');
                    if (loginLink && loginLink.parentElement) loginLink.parentElement.remove();

                    const profileLi = document.createElement('li');
                    profileLi.innerHTML = '<a href="profile.html" class="text-gradient" style="font-weight: 700;">My Profile</a>';
                    navUl.appendChild(profileLi);

                    const logoutLi = document.createElement('li');
                    logoutLi.innerHTML = '<a href="#" class="btn btn-secondary" style="padding: 0.5rem 1.5rem; border-radius: 20px;">Logout</a>';
                    logoutLi.querySelector('a').addEventListener('click', (e) => {
                        e.preventDefault();
                        localStorage.removeItem('currentUser');
                        window.location.href = 'index.html';
                    });
                    navUl.appendChild(logoutLi);
                }
            }
        });
    </script>
</body>

</html>